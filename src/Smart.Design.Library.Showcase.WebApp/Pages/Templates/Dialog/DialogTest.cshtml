@page
@model Smart.Design.Library.Showcase.Pages.Templates.Dialog.DialogTestModel
@using Kendo.Mvc.UI
@addTagHelper *, Kendo.Mvc
@{
    ViewData["Title"] = "Dialog box page";
}

<style>
    #header, #footer {
        display: none !important;
    }

    main.o-container {
        width: 100% !important;
        max-width: 100% !important;
    }

    .c-app-layout {
        min-height: 100vh;
    }
</style>

@{
    Dictionary<string, string> SideMenuLabelsAndLinks = new Dictionary<string, string>
    {
        {
            "Home", "/home"
        },
        {
            "Prestations en cours", "/PedingPrestations"
        },
        {
            "Nouvelle prestation", "/NewPrestation"
        },
        {
            "Simulation", "/Simulation"
        },
        {
            "Activités et projets", "/projets"
        },
        {
            "Formateurs associés", "/u/cfa/home"
        }
    };

    Dictionary<string, string> labelsAndLinks = new Dictionary<string, string>
    {
        {
            "Vos informations personnelles", "/Info"
        },
        {
            "Vos documents", "/documents"
        },
        {
            "Mes véhicules", "/Templates/Dna/ListVehicule"
        },
        {
            "Votre compte", "/Votre compte"
        },
        {
            "Nos conditions d'utilisations", "~/unity/curu"
        },
        {
            "Vos Unité de Production", "/unityProduction"
        }
    };

    Dictionary<string, string> languagesAndLink = new Dictionary<string, string>
    {
        {
            "Français", "Link/Français"
        },
        {
            "English", "Link/English"
        },
        {
            "Nederlands", "Link/Nederlands"
        },
        {
            "Deutsh", "Link/Deutsh"
        }
    };

    string fullNameWithTrigram = "ling xiaoyu";
    string avatarPath = "imageAvatar";
    string currentLanguage = "fr";
}


<div class="c-app-layout">


    <smart-header home-page-url="/home" labels-and-links="@labelsAndLinks" languages-and-links="@languagesAndLink" full-name-with-trigram="@fullNameWithTrigram"
                  avatar-path="@avatarPath" target-language="@currentLanguage" logout-link="/logout.aspx">
    </smart-header>

    <main class="u-maximize-width">
        <div class="c-app-layout-inner">
            <div class="c-app-layout-inner__sidebar u-position-fixed">
                <smart-sidemenu label-and-links="SideMenuLabelsAndLinks"></smart-sidemenu>
            </div>

            <div class="c-app-layout-inner__content">
                <div class="o-container o-container--small">
                    <div class="o-container-vertical--padding-small u-position-relative">
                        <div class="u-spacer-bottom-l">
                            <h2 class="c-d-h2">TELERIK Dialog tests</h2>
                        </div>

                        <div>
                            Branch : blip-7870-telerik-dialog<br />
                            <br />
                            <a href="https://docs.telerik.com/aspnet-core/html-helpers/layout/dialog/overview" target="_blank">TELERIK documentation</a><br />
                            <br />

                            <span class="k-form-field-wrap">
                                @inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf
                                @Html.AntiForgeryToken()
                                @(Html.Kendo().Dialog()
                                    .Name("dialog")
                                    .Title("Rendre inactif")
                                    .Content("<p>Attention vous ne pouvez plus choisir votre véhicule pour la saisie d'un nouveau fais. Vous pourrez le rendre actif à nouveau si vous souhaitez.<p>")
                                    .Width(700)
                                    .Height(400)
                                    .Modal(true)
                                    .ButtonLayout("normal")
                                    .Actions(actions =>
                                    {
                                        actions.Add().Text("<span class='k-button-text'>Annuler</span>");
                                        actions.Add().Text("<span class='k-button-text'>Ok</span>").Primary(true).Action("makeVehicleInactive");
                                    })
                                    )
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <script>
            function makeVehicleInactive() {
                $.ajax({
                    url: "/Templates/Dialog/DialogTest",
                    type: "POST",
                    headers: {
                        RequestVerificationToken: kendo.antiForgeryTokens().__RequestVerificationToken
                    },
                    dataType: "json"
                });
            }
        </script>

    </main>

</div>
