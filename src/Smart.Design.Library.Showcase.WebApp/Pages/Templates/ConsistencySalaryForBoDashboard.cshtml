@page
@model Smart.Design.Library.Showcase.Pages.Templates.ConsistencySalaryForBoDashboardModel
@using Kendo.Mvc.TagHelpers
@using Kendo.Mvc.UI
@{
    ViewData["Title"] = "Consistency salary for BO dashboard";
}

<div class="c-app-layout">
    @await Html.PartialAsync("Shared/_TemplatesHeader")
    <main class="u-maximize-width">
        <div class="c-app-layout-inner">
            @await Html.PartialAsync("Shared/_TemplatesSideMenu")
            <div class="c-app-layout-inner__content">
                @await Html.PartialAsync("Shared/_TemplatesMainTitle")
                <div class="o-container o-container--large">
                    <div class="o-container-vertical--padding-small u-position-relative">
                        @(Html.Kendo().DateRangePickerFor(m => m.FromDate, m => m.ToDate)
                            .Name("dateRangePicker")
                            .Range(r => r
                                .Start(DateTime.Now.AddDays(-7))
                                .End(DateTime.Now))
                            .HtmlAttributes(new { style = "width: 200px" })
                        )
                        @(Html.Kendo().NumericTextBoxFor(m => m.MinimumDelta)
                            .Step(1)
                            .Min(0)
                            .Decimals(2)
                            .Format("c")
                            .Label(lb => lb
                                .Content("Minimum delta")
                                .Floating(true))
                            .HtmlAttributes(new { style = "width: 150px" })
                        )
                        @(Html.Kendo().Button()
                            .Name("generateReportBtn")
                            .ThemeColor(ThemeColor.Primary)
                            .Content("Generate report")
                        )
                        @(Html.Kendo().Button()
                            .Name("fixIssuesBtn")
                            .ThemeColor(ThemeColor.Primary)
                            .Content("Fix issues")
                        )
                    </div>
                    <div class="o-container-vertical--padding-small u-position-relative">
                        @(Html.Kendo().Grid<ConsistencySalaryModel>()
                            .Name("grid")
                            .Sortable()
                            .Scrollable()
                            .AutoBind(false)
                            .Columns(columns =>
                            {
                                columns.Bound(column => column.SamRawSalary);
                                columns.Bound(column => column.ForHrmRawSalary);
                            })
                            .DataSource(ds => ds
                                .Ajax()
                                .Read(r => r.Url("/Grid/GridCrudOperations?handler=Read").Data("forgeryToken"))
                                .PageSize(10)
                            )
                            .Pageable()
                        )
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<script>
    $(document).ready(function () {
        console.log("ready!");

        var grid = $("#grid").data("kendoGrid");
        console.log("grid", grid);
    });

    function forgeryToken() {
        return kendo.antiForgeryTokens();
    }
</script>
